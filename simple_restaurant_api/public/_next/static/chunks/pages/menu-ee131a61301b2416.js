(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[934],{9119:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/menu",function(){return t(565)}])},565:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return m}});var a=t(5893),c=t(9680),o=t.n(c),s=t(9008),r=t.n(s),i=t(6154),l=t(3762),d=t.n(l),u=t(7294),h=t(1163),_=t(8976);function m(){let e=(0,h.useRouter)(),{user:n,loading:t}=(0,_.a)(),[c,s]=(0,u.useState)([]),[l,m]=(0,u.useState)(null),[f,p]=(0,u.useState)(!1);(0,u.useEffect)(()=>{let{tableId:a}=e.query;t||n||e.push("/login"),!t&&n&&a&&(m(a),i.Z.get("/api/menu",{headers:{Authorization:"Bearer ".concat(n.token)}}).then(e=>{console.log(e.data),s(e.data)}).catch(e=>{alert("Error fetching data: ",e)}))},[n,t,e]);let x=(e,t,a)=>{p(!0),console.log("Menu ID:",t),i.Z.post("/api/order",{restaurant_table_id:parseInt(e),menu_id:parseInt(t)},{headers:{Authorization:"Bearer ".concat(n.token),"Content-Type":"application/json"}}).then(e=>{console.log(e.data),alert('"'.concat(a,'" was added to the order')),p(!1)}).catch(e=>{alert("Error fetching data: ",e),p(!1)})},j=e=>"".concat(Math.floor(e/60)," minutes");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(r(),{children:[(0,a.jsx)("title",{children:"Restaurant App"}),(0,a.jsx)("meta",{name:"description",content:"Restaurant App"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,a.jsxs)("main",{className:"".concat(d().main," ").concat(o().className),children:[(0,a.jsxs)("h2",{children:["Table ",l]}),(0,a.jsx)("ul",{children:0===c.length?(0,a.jsx)("div",{children:"No Menu found"}):c.map((e,n)=>(0,a.jsx)("li",{className:"".concat(d().menu),children:(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:e.name}),(0,a.jsxs)("li",{children:["expected to take ",j(e.cook_time_seconds)]}),(0,a.jsxs)("li",{children:[e.price," yen"]}),(0,a.jsx)("li",{children:(0,a.jsx)("button",{className:"".concat(d().deleteOrderButton),type:"button",onClick:()=>x(l,e.id,e.name),disabled:f,children:"Add this to order"})})]})},n))})]})]})}},9680:function(e){e.exports={style:{fontFamily:"'__Inter_e66fe9', '__Inter_Fallback_e66fe9'",fontStyle:"normal"},className:"__className_e66fe9"}},3762:function(e){e.exports={menu:"Menu_menu__dGGWo"}}},function(e){e.O(0,[45,774,888,179],function(){return e(e.s=9119)}),_N_E=e.O()}]);